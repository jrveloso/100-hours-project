<%- include('partials/header') -%>
<div class="grid md:grid-cols-3 grid-cols-1 gap-3 px-3 md:px-20 mt-3 pb-5">
   
  <div class="overflow-x-auto m-0 justify-self-end">
    <table class="table w-fit">
      <!-- head -->
      <thead>
        <tr>
          <th><%= userProfile[0].userName %>'s Watchlist</th>
          <th>PTS</th>
          <th>REBS</th>
          <th>ASTS</th>
        </tr>
      </thead>
      <tbody>
        <% for(var i=0; i<players.length; i++) {%>
        <tr class="hover">
          <th class="text-sm">
            <a class="link link-hover" href="/player/playerFromProfile/<%= userProfile[0]._id %>/<%= players[i].playerId %>"><%= players[i].playerName %></a>
          </th>
          <td></td>
          <td></td>
          <td></td>
        </tr>
        <% } %>
      </tbody>
    </table>
  </div>
  <div class="flex flex-grow h-fit card bg-orange-100 rounded-box gap-3 px-5">
    <div class="flex flex-col gap-4">
      <div class="card w-100 bg-base-100 shadow-xl justify-self-center">
        <figure class="px-10 pt-10">
          <img src="<%= userProfile[0].image %>" alt="Profile Picture" class="rounded-xl" />
        </figure>
        <div class="card-body items-center text-center">
          <h2 class="card-title"><%= userProfile[0].userName %>'s Profile</h2>
        </div>
      </div>
    </div>

    <% if (paramsID == user.id) { %>
    <div class="card w-full bg-white shadow-md mb-2 mt-2">
      <div class="card-body">
        <form class="flex flex-col" 
              action="/post/createPost" 
              enctype="multipart/form-data" 
              method="POST">
            <textarea class="form-control mb-5 w-100 p-2 focus-visible:outline-none" id="text" name="text" placeholder="What are you thinking?"></textarea>
          <div class="card-actions justify-end">
            <button type="submit" 
            class="bg-amber-500 b-transparent px-5 pt-3 pb-3 rounded-box w-fit shadow-md hover:bg-amber-600 font-medium text-lg" 
            value="Upload">post</button>
          </div>
        </form>
      </div>
    </div>
    <% } %>

    <div class="grid h-fit card bg-amber-500 shadow-lg rounded-box place-items-center">
      <div class="flex flex-col mb-5 px-3">
        <h2 class="font-bold text-2xl mt-3 mb-2 text-center"><%= userProfile[0].userName %>'s Posts</h2>
        <ul class="flex-col h-fit">
          <% for(var i=0; i<posts.length; i++) {%>
            <li class="flex mb-0 pb-2 justify-between">
              <div class="card w-full bg-white shadow-md hover:bg-base-100">
                <div class="card-body">
                  <div class="flex self-end">
                    <% if(posts[i].userId == user.id) { %>
                      <form action="/post/deletePost/<%= posts[i]._id %>?_method=DELETE" method="POST" class="align-self-center justify-self-end">
                        <button class="btn btn-square btn-xs">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                      </button>
                    </form>
                    <% } %>
                  </div>
                      
                  <div>
                    <a class="flex flex-col gap-1" href="/post/<%= posts[i]._id%>">
                      <p><%= posts[i].text%></p>
                      <div class="flex gap-2">
                        <form action="/post/likePost/<%= posts[i]._id %>?_method=PUT" method="POST">
                          <button class="gap-1 bg-base-100" type="submit">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="red" viewBox="0 0 24 24" ><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" /></svg>
                          </button>
                        </form>
                        <%= posts[i].likes %>
                      </div>
                      <p class="text-xs"><%= posts[i].createdAt.toLocaleTimeString()%> <%= posts[i].createdAt.toDateString()%></p>
                    </a>
                  </div>
                </div>
              </div>
            </li>
          <% } %>
        </ul>
      </div>
    </div>
  </div>


  <ul class="menu w-56 p-2 shadow-lg rounded-box hidden md:grid flex-grow h-fit bg-white md:visible justify-self-start text-xl">
    <li>
      <a href="/schedule/202210">
          <svg class="w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Pro 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M128 0c17.7 0 32 14.3 32 32V64H288V32c0-17.7 14.3-32 32-32s32 14.3 32 32V64h48c26.5 0 48 21.5 48 48v48H0V112C0 85.5 21.5 64 48 64H96V32c0-17.7 14.3-32 32-32zM0 192H448V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V192zm64 80v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H80c-8.8 0-16 7.2-16 16zm128 0v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H336zM64 400v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V400c0-8.8-7.2-16-16-16H80c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V400c0-8.8-7.2-16-16-16H208zm112 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V400c0-8.8-7.2-16-16-16H336c-8.8 0-16 7.2-16 16z"/></svg>
        Schedule
      </a>
    </li>
    <li>
      <a href="">
        <svg class="w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Pro 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M353.8 54.1L330.2 6.3c-3.9-8.3-16.1-8.6-20.4 0L286.2 54.1l-52.3 7.5c-9.3 1.4-13.3 12.9-6.4 19.8l38 37-9 52.1c-1.4 9.3 8.2 16.5 16.8 12.2l46.9-24.8 46.6 24.4c8.6 4.3 18.3-2.9 16.8-12.2l-9-52.1 38-36.6c6.8-6.8 2.9-18.3-6.4-19.8l-52.3-7.5zM256 256c-17.7 0-32 14.3-32 32V480c0 17.7 14.3 32 32 32H384c17.7 0 32-14.3 32-32V288c0-17.7-14.3-32-32-32H256zM32 320c-17.7 0-32 14.3-32 32V480c0 17.7 14.3 32 32 32H160c17.7 0 32-14.3 32-32V352c0-17.7-14.3-32-32-32H32zm416 96v64c0 17.7 14.3 32 32 32H608c17.7 0 32-14.3 32-32V416c0-17.7-14.3-32-32-32H480c-17.7 0-32 14.3-32 32z"/></svg>
        Standings
      </a>
    </li>
    <li tabindex="0">
      <span>
        <svg class="w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Pro 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M184 88c0 30.9-25.1 56-56 56s-56-25.1-56-56s25.1-56 56-56s56 25.1 56 56zM64 245.7C54 256.9 48 271.8 48 288s6 31.1 16 42.3V245.7zm144.4-49.3C178.7 222.7 160 261.2 160 304c0 34.3 12 65.8 32 90.5V416c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V389.2C26.2 371.2 0 332.7 0 288c0-61.9 50.1-112 112-112h32c24 0 46.2 7.5 64.4 20.3zM448 416V394.5c20-24.7 32-56.2 32-90.5c0-42.8-18.7-81.3-48.4-107.7C449.8 183.5 472 176 496 176h32c61.9 0 112 50.1 112 112c0 44.7-26.2 83.2-64 101.2V416c0 17.7-14.3 32-32 32H480c-17.7 0-32-14.3-32-32zM568 88c0 30.9-25.1 56-56 56s-56-25.1-56-56s25.1-56 56-56s56 25.1 56 56zm8 157.7v84.7c10-11.3 16-26.1 16-42.3s-6-31.1-16-42.3zM320 160c-35.3 0-64-28.7-64-64s28.7-64 64-64s64 28.7 64 64s-28.7 64-64 64zM240 304c0 16.2 6 31 16 42.3V261.7c-10 11.3-16 26.1-16 42.3zm144-42.3v84.7c10-11.3 16-26.1 16-42.3s-6-31.1-16-42.3zM448 304c0 44.7-26.2 83.2-64 101.2V448c0 17.7-14.3 32-32 32H288c-17.7 0-32-14.3-32-32V405.2c-37.8-18-64-56.5-64-101.2c0-61.9 50.1-112 112-112h32c61.9 0 112 50.1 112 112z"/></svg>
        Teams
      </span>
      <ul class="rounded-box pt-4 pb-4 px-2 bg-base-100 text-sm">
        <div class="flex w-full gap-1">
          <div class="grid h-fit flex-grow card bg-base-100 rounded-box place-items-center">
            <li class="menu-title">
              <span>Atlantic</span>
            </li>
            <% for(var i=0; i<teams.length; i++) {%>
              <% if(teams[i].divName === 'Atlantic') { %>
                <li><a href="/team/<%= teams[i].urlName %>"><%= teams[i].nickname %></a></li>
              <% } %>
            <% } %>
          </div>
          <div class="grid h-fit flex-grow card bg-base-100 rounded-box text-end">
            <li class="menu-title">
              <span>Central</span>
            </li>
          <% for(var i=0; i<teams.length; i++) {%>
            <% if(teams[i].divName === 'Central') { %>
              <li><a href="/team/<%= teams[i].urlName %>" class="justify-end"><%= teams[i].nickname %></a></li>
              <% } %>
          <% } %>
          </div>
        </div>
        <div class="flex w-full gap-1">
          <div class="grid h-fit flex-grow card bg-base-100 rounded-box place-items-center">
            <li class="menu-title">
              <span>Northwest</span>
            </li>
          <% for(var i=0; i<teams.length; i++) {%>
            <% if(teams[i].divName === 'Northwest') { %>
              <li><a href="/team/<%= teams[i].urlName %>"><%= teams[i].nickname %></a></li>
              <% } %>
          <% } %>
          </div>
          <div class="grid h-fit flex-grow card bg-base-100 rounded-box text-end">
            <li class="menu-title">
              <span>Pacific</span>
            </li>
          <% for(var i=0; i<teams.length; i++) {%>
            <% if(teams[i].divName === 'Pacific') { %>
              <li><a href="/team/<%= teams[i].urlName %>" class="justify-end"><%= teams[i].nickname %></a></li>
              <% } %>
          <% } %>
          </div>
        </div>
        <div class="flex w-full gap-1">
          <div class="grid h-fit flex-grow card bg-base-100 rounded-box place-items-center">
            <li class="menu-title">
              <span>Southeast</span>
            </li>
          <% for(var i=0; i<teams.length; i++) {%>
            <% if(teams[i].divName === 'Southeast') { %>
              <li><a href="/team/<%= teams[i].urlName %>"><%= teams[i].nickname %></a></li>
              <% } %>
          <% } %>
          </div>
          <div class="grid h-fit flex-grow card bg-base-100 rounded-box text-end">
            <li class="menu-title">
              <span>Southwest</span>
            </li>
          <% for(var i=0; i<teams.length; i++) {%>
            <% if(teams[i].divName === 'Southwest') { %>
            <li><a href="/team/<%= teams[i].urlName %>" class="justify-end"><%= teams[i].nickname %></a></li>
            <% } %>
          <% } %>
          </div>
        </div>
      </ul>
    </li>
    <li>
      <a href="">
        <svg class="w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Pro 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H64zM96 64H288c17.7 0 32 14.3 32 32v32c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32zM64 224c0-17.7 14.3-32 32-32s32 14.3 32 32s-14.3 32-32 32s-32-14.3-32-32zm32 64c17.7 0 32 14.3 32 32s-14.3 32-32 32s-32-14.3-32-32s14.3-32 32-32zM64 416c0-17.7 14.3-32 32-32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H96c-17.7 0-32-14.3-32-32zM192 192c17.7 0 32 14.3 32 32s-14.3 32-32 32s-32-14.3-32-32s14.3-32 32-32zM160 320c0-17.7 14.3-32 32-32s32 14.3 32 32s-14.3 32-32 32s-32-14.3-32-32zM288 192c17.7 0 32 14.3 32 32s-14.3 32-32 32s-32-14.3-32-32s14.3-32 32-32zM256 320c0-17.7 14.3-32 32-32s32 14.3 32 32s-14.3 32-32 32s-32-14.3-32-32zm32 64c17.7 0 32 14.3 32 32s-14.3 32-32 32s-32-14.3-32-32s14.3-32 32-32z"/></svg>
        Stats
      </a>
    </li>
    <li tabindex="0">
      <span>
        <svg class="w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M128 32h32c17.7 0 32 14.3 32 32V96H96V64c0-17.7 14.3-32 32-32zm64 96V448c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32V388.9c0-34.6 9.4-68.6 27.2-98.3C40.9 267.8 49.7 242.4 53 216L60.5 156c2-16 15.6-28 31.8-28H192zm227.8 0c16.1 0 29.8 12 31.8 28L459 216c3.3 26.4 12.1 51.8 25.8 74.6c17.8 29.7 27.2 63.7 27.2 98.3V448c0 17.7-14.3 32-32 32H352c-17.7 0-32-14.3-32-32V128h99.8zM320 64c0-17.7 14.3-32 32-32h32c17.7 0 32 14.3 32 32V96H320V64zm-32 64V288H224V128h64z"/></svg>
        Watchlist
      </span>
      <ul class="rounded-box p-2 bg-base-100 text-sm">
        <div class="flex w-full gap-1">
          <div class="grid h-fit flex-grow card bg-base-100 rounded-box place-items-center">
            <li class="menu-title">
              <span>Players</span>
            </li>
            <% for(var i=0; i<players.length; i++) {%>
              <li>
                <a href="/player/<%= players[i].playerId %>">
                  <span><%= players[i].playerName %> <%= players[i].playerPosition %></span>
                </a>
              </li>
            <% } %>
          </div>
      </ul>
    </li>
    <li>
      <a href="/profile/<%= user.id %>">
        <svg class="w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Pro 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0S96 57.3 96 128s57.3 128 128 128zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"/></svg>
        Profile
      </a>
    </li>
  </ul>

  
        <!-- <div class="divider lg:divider-horizontal"> </div> -->

      <!-- <div>
        <a class="btn btn-primary" href="/feed">Return to Feed</a>
      </div> -->

</div>
<%- include('partials/footer') -%>